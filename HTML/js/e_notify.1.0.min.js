/*
 * ************************************************************* *
 * Name       : eNotify                                          *
 * Date       : May 2011                                         *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.0                                              *
 * Updated    : --/--/----                                       *
 * Developer  : Mark                                             *
 * Dependency :                                                  *
 * Lib        : jQuery 1.6+                                      *
 * Licence    : NOT free                                         *
 * This is part of a themeforest file                            *
 * ************************************************************* *
 */
 
;(function(a,b,c,d){function e(){a(c).ready(function(){a("body").append('<ul class="e-growl-left-top"></ul>'+'<ul class="e-growl-left-bottom"></ul>'+'<ul class="e-growl-right-top"></ul>'+'<ul class="e-growl-right-bottom"></ul>'+'<div class="e-notification-top"></div>'+'<div class="e-notification-bottom"></div>')})}e();a.e_notify={growl:function(d){if("ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch){var e="click tap"}else{var e="click"}if(typeof d.onShow=="function"){d.onShow.call(this)}var f=Math.floor(Math.random()*1111);var g='<li><div class="e-growl" id="e-growl-'+f+'">'+"<span>x</span>"+'<div class="e-growl-img"><img src="'+d.image+'" alt=""/></div>'+'<div class="e-growl-content">'+"<h5>"+d.title+"</h5>"+"<p>"+d.text+"</p>"+"</div>"+"</div></li>";switch(d.position){case"left-top":a("ul.e-growl-left-top").addClass("e-growl-wrapper").prepend(g);break;case"left-bottom":a("ul.e-growl-left-bottom").addClass("e-growl-wrapper").append(g);break;case"right-top":a("ul.e-growl-right-top").addClass("e-growl-wrapper").prepend(g);break;case"right-bottom":a("ul.e-growl-right-bottom").addClass("e-growl-wrapper").append(g);break}var h=a("#e-growl-"+f);if(!d.closable===true){h.find("span").remove()}if(!d.image){h.children("div").css({width:"100%"}).prev(".e-growl-img").remove()}if(!d.title){h.find("h5").remove()}if(!d.text){h.find("p").remove()}if(d.className){h.addClass(d.className)}else{h.addClass("growl-default")}h.parent("li").animate({height:h.height()+15+"px"},d.speed,function(){if(d.delay>0){var b=d.delay}else{b=0}if(d.effect=="fade"){h.css({right:0,left:0}).delay(b).fadeIn(d.speed).trigger("autohide")}else if(d.effect=="slidein"){h.delay(b).show(1,function(){if(h.parents("ul").is("ul.e-growl-left-top, ul.e-growl-left-bottom")){a(this).animate({left:0},d.speed,function(){a(this).trigger("autohide")})}else{a(this).animate({right:0},d.speed,function(){a(this).trigger("autohide")})}})}a(this).bind("autohide",function(){if(d.sticky!=true){a(this).children("div").delay(d.time).fadeOut(d.speed,function(){a(this).parent("li").slideUp(d.speed,function(){a(this).remove();if(typeof d.onHide=="function"){d.onHide.call(this)}})})}})});h.on(e,"span",function(){a(this).parents("div").fadeTo(d.speed,0,function(){a(this).parent("li").slideUp(d.speed,function(){a(this).remove()})});if(typeof d.onHide=="function"){d.onHide.call(this)}});var i=h.parent();if(h.parents("ul").is(".e-growl-left-top, .e-growl-right-top")){h.parents("ul").children("li").each(function(b){if(b>=d.maxOpen){a(this).not(i).fadeOut(d.speed,function(){a(this).remove();if(typeof d.onHide=="function"){d.onHide.call(this)}})}})}else{jQuery.fn.reverse=[].reverse;h.parents("ul").children("li").reverse().each(function(b){if(b>=d.maxOpen){a(this).not(i).fadeOut(d.speed,function(){a(this).remove();if(typeof d.onHide=="function"){d.onHide.call(this)}})}})}},notification:function(d){if("ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch){var e="click tap"}else{var e="click"}if(typeof d.onShow=="function"){d.onShow.call(this)}var f=Math.floor(Math.random()*1111);var g='<div id="e-notification-'+f+'" class="e-notification"><p>'+d.text+"</p><span>X</span></div>";if(d.target.length>1){a(d.target).prepend(g)}else{switch(d.position){case"top":a("div.e-notification-top").prepend(g);break;case"bottom":a("div.e-notification-bottom").prepend(g);break}}var h=a("#e-notification-"+f);if(!d.closable===true){h.find("span").remove()}if(d.className){h.addClass(d.className)}else{h.addClass("notification-default")}if(d.delay>0){var i=d.delay}else{i=0}if(d.effect=="fade"){var j="fadeIn";var k="fadeOut"}else if(d.effect=="slide"){j="slideDown";k="slideUp"}if(h.next("div.e-notification").length){h.next("div.e-notification")[k](d.speed,function(){a(this).remove();h.delay(i)[j](d.speed,function(){if(d.sticky!=true){a(this).delay(d.time)[k](d.speed,function(){a(this).remove();if(typeof d.onHide=="function"){d.onHide.call(this)}})}})})}else{h.delay(i)[j](d.speed,function(){if(d.sticky!=true){a(this).delay(d.time)[k](d.speed,function(){a(this).remove();if(typeof d.onHide=="function"){d.onHide.call(this)}})}})}h.on(e,"span",function(){a(this).parent("div")[k](d.speed,0,function(){a(this).remove()});if(typeof d.onHide=="function"){d.onHide.call(this);d.onHide=false}})},loader:function(b){if(typeof b.onShow=="function"){b.onShow()}a("body").append('<div id="e-loader"><div id="e-loader-overlay"></div><div id="e-loader-img"><img src="'+b.image+'" alt=""/></div></div>');a("#e-loader-overlay").css({opacity:b.opacity});switch(b.position){case"left-top":a("#e-loader-img").css({left:20,top:20});break;case"left-bottom":a("#e-loader-img").css({left:20,bottom:20});break;case"right-top":a("#e-loader-img").css({left:20,top:20});break;case"right-bottom":a("#e-loader-img").css({right:20,bottom:20});break;case"center":var c=b.imageSize.split("|");var d=c[0]/2;var e=c[1]/2;a("#e-loader-img").css({left:"50%",top:"50%",marginLeft:"-"+(d+10)+"px",marginTop:"-"+(e+10)+"px"});break}if(b.delay>0){var f=b.delay}else{var f=0}a("#e-loader").delay(f).fadeIn(b.speed).delay(b.time).fadeOut(b.speed,function(){a(this).remove();if(typeof b.onHide=="function"){b.onHide.call(this)}})},countdown:function(){},clear:function(b){if(typeof b.beforeClear=="function"){b.beforeClear.call(this)}if(b.type=="growl"){a("ul.e-growl-wrapper").children("li").fadeOut(200,function(){a(this).remove();if(typeof b.afterClear=="function"){b.afterClear.call(this);b.afterClear=false}})}else if(b.type=="notification"){a("div.e-notification").fadeOut(200,function(){a(this).remove();if(typeof b.afterClear=="function"){b.afterClear.call(this);b.afterClear=false}})}}}})(jQuery,window,document)