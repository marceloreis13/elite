/*
 * ************************************************************* *
 * Name       : eSelect                                          *
 * Date       : December 2011                                    *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.0                                              *
 * Updated    : --/--/----                                       *
 * Developer  : Mark                                             *
 * Dependency :                                                  *
 * Lib        : jQuery 1.7+                                      *
 * Licence    : NOT free                                         *
 * This is part of a themeforest file                            *
 * ************************************************************* *
 */
  
;(function(a,b,c,d){a.fn.eSelect=function(d){d=a.extend({},a.fn.eSelect.options,d);return this.each(function(){var e=a(this);var f="e-select-multiple-highlite";if("ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch){var g="click tap"}else{var g="click"}if(e.attr("multiple")){e.not(d.exclude).hide().wrap('<div class="e-select-multiple"/>').after('<div class="e-select-multiple-inner">'+"<ul>"+"</ul>"+"</div>"+'<div class="e-select-multiple-handle">'+"<span></span>"+"</div>").end().children("option").each(function(){var b=a(this).attr("class");var c=a(this).text();if(a(this).is(":selected")){var d="e-select-multiple-highlite"}else{var d=""}a(this).parents("div.e-select-multiple").children("div.e-select-multiple-inner").children("ul").append('<li class="'+d+" "+b+'">'+c+"</li>")})}else{e.not(d.exclude).hide().wrap('<div class="e-select"/>').after('<div class="e-select-inner">'+'<div class="e-select-selected"></div><div class="e-select-trigger"><span></span></div>'+"</div>"+'<div class="e-select-options">'+"<ul>"+"</ul>"+"</div>").end().children("option").each(function(){var b=a(this).attr("class");var c=a(this).text();if(a(this).is(":selected")){a(this).parents("div.e-select").children("div.e-select-inner").children("div.e-select-selected").text(c)}a(this).parents("div.e-select").children("div.e-select-options").children("ul").append('<li class="'+b+'">'+c+"</li>")})}a(c).on(g,this,function(b){if(!a(b.target).is("div.e-select *")){a("div.e-select-options").slideUp(d.speed)}});e.parents("div.e-select").on(g,"div.e-select-inner",function(){var b=a(this).next("div.e-select-options");if(b.is(":hidden")){a("div.e-select-options").slideUp(d.speed);b.slideDown(d.speed)}else{b.slideToggle(d.speed)}});e.parents("div.e-select").on(g,"li",function(){a(this).parents("div.e-select").children("div.e-select-inner").children("div.e-select-selected").text(a(this).text()).parents("div.e-select").find("select").children().removeAttr("selected").parent().children("option:contains("+a(this).text()+")").attr("selected","selected").parents("div.e-select").children("div.e-select-options").slideUp(d.speed);if(typeof d.onSelect=="function"){d.onSelect.call(this)}});var h=e.parent("div.e-select-multiple");var i=h.outerHeight();var j=h.children("div.e-select-multiple-inner");var k=h.children("div.e-select-multiple-handle").children();var l=j.outerHeight();var m=i/(l/i);k.height(m);k.draggable({axis:"y",containment:e.parent(),drag:function(){var a=k.position().top;j.css({top:-(a*(l/i))})}});h.on(g,"li",function(){if(a(this).hasClass(f)){a(this).removeClass(f).parents("div.e-select-multiple").find("option:contains("+a(this).text()+")").removeAttr("selected")}else{a(this).addClass(f).parents("div.e-select-multiple").find("option:contains("+a(this).text()+")").attr("selected","selected")}if(typeof d.onSelect=="function"){d.onSelect.call(this)}})})};a.fn.eSelect.options={exclude:"",speed:200,onSelect:function(){}}})(jQuery,window,document)