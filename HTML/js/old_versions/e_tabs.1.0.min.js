/*
 * ************************************************************* *
 * Name       : eTabs                                            *
 * Date       : March 2011                                       *
 * Owner      : CreativeMilk                                     *
 * Url        : www.creativemilk.net                             *
 * Version    : 1.0                                              *
 * Updated    : --/--/----                                       *
 * Developer  : Mark                                             *
 * Dependency :                                                  *
 * Lib        : jQuery 1.4+                                      *
 * Licence    : NOT free                                         *
 * This is part of a themeforest file                            *
 * ************************************************************* *
 */

;(function(a,b,c,d){a.fn.eTabs=function(d){d=a.extend({},a.fn.eTabs.options,d);return this.each(function(){function p(b){var c=b-1;var d=0;i.each(function(){if(d==c){a(this).addClass(k)}else{a(this).removeClass(k)}d++})}function q(b){var c=b-1;var d=0;f.each(function(){if(d==c){a(this).show()}d++})}var e=a(this);var f=e.find("div.etabs-content");var g=e.find("div.etabs-content:first");var h=e.find("ul.etabs:first");var i=h.children("li");var j=i.children("a");var k="etabs-active";var l=h.children("li:first");var m=e.attr("id");var n=0;if("ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch){var o="click tap"}else{var o="click"}if(!m){alert("The tab plugin can only be used with a ID selector, please change this!")}f.hide().addClass("clearfix");if(localStorage&&d.storeTab===true){var r=localStorage.getItem("e_tabs_"+location.pathname+"_"+m)}else{var r=1}if(d.selected==1&&r==1){l.addClass(k).show();g.show()}else{if(d.storeTab==true&&r!=null){p(r);q(r)}else{p(d.selected);q(d.selected)}}j.each(function(){var b=a(this).data("tab-source");var c=a(this).attr("href");if(b&&!a.trim(a(c).html()).length){a(c).load(b,function(b,d,e){if(d=="error"){a(c).html(e.status+" "+e.statusText)}})}});i.on(o,"a",function(b){var c=a(this).attr("href");j.parent("li").removeClass(k+" etabs-open-active");a(this).parent("li").addClass(k+" etabs-open-active");f.not(c).hide();if(a(c).is(":hidden")){a(c).fadeIn(1,function(){if(typeof d.onSwitch=="function"){d.onSwitch.call(this)}})}if(localStorage&&d.storeTab===true){e.find("li").each(function(b){if(a(this).hasClass(k)){localStorage.setItem("e_tabs_"+location.pathname+"_"+m,b+1)}})}b.preventDefault()});if(d.responsive===true){i.each(function(){n+=a(this).width()});function s(){h.children("."+k).addClass("etabs-open-active");var b=e.children("div.etabs-to-select").length;if(n>=h.outerWidth()-10){if(b==0){h.wrap('<div class="etabs-to-select"/>').after('<div class="etabs-arrow-left"><span></span></div><div class="etabs-arrow-right"><span></span></div>')}i.hide().css({width:h.outerWidth()-10});h.children("."+k).show()}else{if(b){i.removeAttr("style").show();h.unwrap();a(".etabs-arrow-left, .etabs-arrow-right ").remove();e.find(".etabs-open-active").removeClass("etabs-open-active")}}}e.on(o,".etabs-arrow-left",function(a){var b=h.children("li.etabs-open-active");if(b.prev("li").length){h.children("li.etabs-open-active").hide().removeClass("etabs-open-active").prev("li").show().addClass("etabs-open-active")}});e.on(o,".etabs-arrow-right",function(a){var b=h.children("li.etabs-open-active");if(b.next("li").length){h.children("li.etabs-open-active").hide().removeClass("etabs-open-active").next("li").show().addClass("etabs-open-active")}});s();a(b).bind("resize","ready",function(){s()})}})};a.fn.eTabs.options={selected:1,storeTab:true,responsive:false,onSwitch:function(){}}})(jQuery,window,document)